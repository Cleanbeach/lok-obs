apiVersion: v1
kind: ConfigMap
metadata:
  name: tempo-config
data:
  tempo-frontend-config.yaml: |
    frontend:
      address: 0.0.0.0:3100
      compression: true
      tls:
        enabled: false
  tempo-backend-config.yaml: |
    backend:
      storage:
        memory:
          enabled: true
      ingester:
        trace_idle_period: 1s
        trace_idle_timeout: 1m
        num_workers: 2
        chunk_idle_period: 5s
        chunk_idle_timeout: 1m
        lifecycler:
          ring:
            replication_factor: 1
          address: 127.0.0.1:6868
        storage:
          trace:
            memory:
              chunks:
                sync_period: 30s
              cache:
                max_traces: 10000
                max_size: 100MiB
          query:
            memory:
              cache:
                max_traces: 10000
                max_size: 100MiB
      receiver:
        jaeger:
          protocols:
            thrift_compact:
              endpoint: 0.0.0.0:6831
        zipkin:
          endpoint: 0.0.0.0:9411
        prometheus:
          config:
            scrape_configs:
              - job_name: 'tempo'
                static_configs:
                  - targets: ['localhost:9411']
                    labels:
                      service: 'tempo'
                      environment: 'production'
      server:
        http:
          listen: 0.0.0.0:9095
